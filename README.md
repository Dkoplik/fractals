# fractals
Лабораторная работа 5 по компьютерной графике.

## Задание
Для выполнения [задания](https://edu.mmcs.sfedu.ru/mod/assign/view.php?id=7874) надо реализовать методы из `src/app/logic/{l_system, midpoint_displacement, bezier}.rs`.

- `src/main.rs` - тупо точка входа для запуска приложения
- `src/app.rs` - само приложение для демонстрации работы алгоритмов
- `src/app/ui.rs` - UI приложения
- `src/app/logic.rs` - логика приложения
- `src/app/logic/bezier.rs` - реализация кривых Безье
- `src/app/logic/l_system.rs` - реализация L-систем
- `src/app/logic/midpoint_displacement.rs` - реализация Midpoint Displacement
- `src/app/logic/transform2d.rs` - матрица преобразований с прошлой лабы, удобно для масштабирования фракталов.
- `src/app/logic/utils.rs` - всякие вспомогательные функции

## Конфигурацию L-системы файлом
Вид файла конфигурации для L-системы:
```
<аксиома> <угол поворота в градусах> <начальное направление в градусах>
<правило/действие/присвоение 1>
...
<правило/действие/присвоение N>
```

Правила имеют вид `<символ> -> <строка над алфавитом>`
Действия имеют вид `<символ> -> <операция>`
Присвоения имеют вид `<переменная> = <значение>` - все они опциональны

Операции имеют следующий вид:
FORWARD <длина>
| FORWARD RANDOM <мин. длина> <макс. длина>
| ROTATE
| ROTATE RANDOM <дельта-угол>
| SAVE
| RESTORE

Переменные могут быть следующие:
WIDTH
| WIDTH_DELTA
| COLOR
| COLOR_DELTA

Какую-то базовую обработку ошибок добавил в "парсер", но она совсем примитивная.

## Билд и запуск
### Билд
Чтобы собрать лабу, нужно прописать:
```sh
cargo build
```
Сборка сразу выполнится под вашу платформу и бинарник будет где-то в `target/`.

### Билд + запуск (дебаг)
Запускать отдельно бинарник не очень удобно, поэтому есть:
```sh
cargo run
```
Эта команда и сбилдит весь проект, и запустит его сразу. По дефолту это debug билд.

### Билд + запуск (релиз)
Для запуска в релизе (быстрее работает, но менее информативные сообщения при ошибках) нужно:
```sh
cargo run -r
```
